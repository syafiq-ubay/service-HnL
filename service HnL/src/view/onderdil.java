package view;

import view.dialog_dataJenis;
import view.*;
import dao.DAO_onderdil;
import java.awt.Window;
import java.awt.event.KeyEvent;
import java.util.ArrayList;
import java.util.List;
import javax.swing.JOptionPane;
import javax.swing.table.TableColumnModel;
import jnafilechooser.api.JnaFileChooser;
import model.model_onderdil;
import model.model_jenisOnderdil;
import model.model_supplier;
import tableModel.table_onderdil;
import service.service_onderdil;

public class onderdil extends javax.swing.JPanel {

        private service_onderdil servis = new DAO_onderdil();
        private table_onderdil tblModel = new table_onderdil();

    public onderdil() {
        initComponents();
        
        tbl_data.setModel(tblModel);
        setColWidht();
        loadData();
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        mainPanel = new javax.swing.JPanel();
        tampilData = new javax.swing.JPanel();
        judul1 = new javax.swing.JLabel();
        scrollPaneWin111 = new scrollbarwin11.ScrollPaneWin11();
        tbl_data = new tablecustom.tablez();
        btn_tambah = new rojerusan.RSMaterialButtonRectangle();
        btn_hapus = new rojerusan.RSMaterialButtonRectangle();
        btn_batal = new rojerusan.RSMaterialButtonRectangle();
        jSeparator1 = new javax.swing.JSeparator();
        t_pencarian = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        btn_eksport = new rojerusan.RSMaterialButtonRectangle();
        btn_import = new rojerusan.RSMaterialButtonRectangle();
        tambahData = new javax.swing.JPanel();
        judul2 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        t_kode = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        t_typeJenis = new javax.swing.JTextField();
        t_namaOnderdil = new javax.swing.JTextField();
        t_kodejenis = new javax.swing.JTextField();
        t_stok = new javax.swing.JTextField();
        t_hargaOnderdil = new javax.swing.JTextField();
        btn_jenisbarang = new javax.swing.JButton();
        t_namaJenis = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        t_idSupplier = new javax.swing.JTextField();
        btn_pilihSupplier = new javax.swing.JButton();
        t_toko = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        btn_tambah1 = new rojerusan.RSMaterialButtonRectangle();
        btn_clear = new rojerusan.RSMaterialButtonRectangle();
        btn_batal1 = new rojerusan.RSMaterialButtonRectangle();
        jSeparator2 = new javax.swing.JSeparator();

        setLayout(new java.awt.CardLayout());

        mainPanel.setLayout(new java.awt.CardLayout());

        tampilData.setBackground(new java.awt.Color(255, 255, 255));

        judul1.setFont(new java.awt.Font("SansSerif", 1, 24)); // NOI18N
        judul1.setText("Data Onderdil ");

        tbl_data.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        tbl_data.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tbl_dataMouseClicked(evt);
            }
        });
        scrollPaneWin111.setViewportView(tbl_data);

        btn_tambah.setText("TAMBAH");
        btn_tambah.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_tambahActionPerformed(evt);
            }
        });

        btn_hapus.setBackground(new java.awt.Color(204, 0, 0));
        btn_hapus.setText("HAPUS");
        btn_hapus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_hapusActionPerformed(evt);
            }
        });

        btn_batal.setBackground(new java.awt.Color(0, 153, 0));
        btn_batal.setText("BATAL");
        btn_batal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_batalActionPerformed(evt);
            }
        });

        t_pencarian.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        t_pencarian.setHorizontalAlignment(javax.swing.JTextField.LEFT);
        t_pencarian.setText("Search");
        t_pencarian.setBorder(null);
        t_pencarian.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                t_pencarianFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                t_pencarianFocusLost(evt);
            }
        });
        t_pencarian.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_pencarianKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_pencarianKeyTyped(evt);
            }
        });

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/search (1).png"))); // NOI18N

        btn_eksport.setBackground(new java.awt.Color(204, 204, 0));
        btn_eksport.setText("EXPORT");
        btn_eksport.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_eksportActionPerformed(evt);
            }
        });

        btn_import.setBackground(new java.awt.Color(0, 51, 51));
        btn_import.setText("IMPORT");
        btn_import.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_importActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout tampilDataLayout = new javax.swing.GroupLayout(tampilData);
        tampilData.setLayout(tampilDataLayout);
        tampilDataLayout.setHorizontalGroup(
            tampilDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tampilDataLayout.createSequentialGroup()
                .addGroup(tampilDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, tampilDataLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(scrollPaneWin111, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, tampilDataLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jSeparator1))
                    .addGroup(tampilDataLayout.createSequentialGroup()
                        .addGap(30, 30, 30)
                        .addComponent(judul1, javax.swing.GroupLayout.PREFERRED_SIZE, 404, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 454, Short.MAX_VALUE)
                        .addComponent(jLabel1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(t_pencarian, javax.swing.GroupLayout.PREFERRED_SIZE, 171, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(16, 16, 16)))
                .addGap(127, 127, 127))
            .addGroup(tampilDataLayout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addComponent(btn_tambah, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btn_hapus, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btn_batal, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btn_eksport, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btn_import, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        tampilDataLayout.setVerticalGroup(
            tampilDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, tampilDataLayout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(tampilDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(judul1, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, tampilDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(t_pencarian, javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 25, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 12, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(tampilDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_tambah, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_hapus, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_batal, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_eksport, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_import, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(scrollPaneWin111, javax.swing.GroupLayout.DEFAULT_SIZE, 1146, Short.MAX_VALUE)
                .addGap(37, 37, 37))
        );

        mainPanel.add(tampilData, "card2");

        tambahData.setBackground(new java.awt.Color(255, 255, 255));

        judul2.setFont(new java.awt.Font("SansSerif", 1, 24)); // NOI18N
        judul2.setText("Tambah Data Onderdil");

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));

        jLabel3.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel3.setText("Kode Onderdil :");

        t_kode.setEditable(false);
        t_kode.setBackground(new java.awt.Color(255, 255, 255));
        t_kode.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        t_kode.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        t_kode.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        t_kode.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_kodeActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel4.setText("Kode Jenis :");

        jLabel5.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel5.setText("Type Jenis :");

        jLabel7.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel7.setText("Nama Jenis :");

        jLabel8.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel8.setText("Stok  :");

        jLabel9.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel9.setText("Harga :");

        t_typeJenis.setEditable(false);
        t_typeJenis.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        t_typeJenis.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_typeJenis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_typeJenisActionPerformed(evt);
            }
        });

        t_namaOnderdil.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        t_namaOnderdil.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_namaOnderdil.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_namaOnderdilActionPerformed(evt);
            }
        });

        t_kodejenis.setEditable(false);
        t_kodejenis.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        t_kodejenis.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_kodejenis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_kodejenisActionPerformed(evt);
            }
        });

        t_stok.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        t_stok.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_stok.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_stokActionPerformed(evt);
            }
        });
        t_stok.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_stokKeyTyped(evt);
            }
        });

        t_hargaOnderdil.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        t_hargaOnderdil.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_hargaOnderdil.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_hargaOnderdilActionPerformed(evt);
            }
        });
        t_hargaOnderdil.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_hargaOnderdilKeyTyped(evt);
            }
        });

        btn_jenisbarang.setBackground(new java.awt.Color(102, 102, 102));
        btn_jenisbarang.setForeground(new java.awt.Color(255, 255, 255));
        btn_jenisbarang.setText("Pilih");
        btn_jenisbarang.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        btn_jenisbarang.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_jenisbarangActionPerformed(evt);
            }
        });

        t_namaJenis.setEditable(false);
        t_namaJenis.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        t_namaJenis.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_namaJenis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_namaJenisActionPerformed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel10.setText("Nama Onderdil :");

        jLabel11.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel11.setText("ID Supplier :");

        t_idSupplier.setEditable(false);
        t_idSupplier.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        t_idSupplier.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_idSupplier.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_idSupplierActionPerformed(evt);
            }
        });
        t_idSupplier.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_idSupplierKeyTyped(evt);
            }
        });

        btn_pilihSupplier.setBackground(new java.awt.Color(102, 102, 102));
        btn_pilihSupplier.setForeground(new java.awt.Color(255, 255, 255));
        btn_pilihSupplier.setText("Pilih");
        btn_pilihSupplier.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        btn_pilihSupplier.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_pilihSupplierActionPerformed(evt);
            }
        });

        t_toko.setEditable(false);
        t_toko.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        t_toko.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        t_toko.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_tokoActionPerformed(evt);
            }
        });
        t_toko.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_tokoKeyTyped(evt);
            }
        });

        jLabel13.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel13.setText("Toko Supplier :");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(t_namaJenis, javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(t_kodejenis, javax.swing.GroupLayout.DEFAULT_SIZE, 475, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(btn_jenisbarang, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel4, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(t_typeJenis, javax.swing.GroupLayout.Alignment.LEADING))
                        .addGap(65, 65, 65)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(t_idSupplier, javax.swing.GroupLayout.PREFERRED_SIZE, 327, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btn_pilihSupplier, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel11)
                            .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(t_toko, javax.swing.GroupLayout.PREFERRED_SIZE, 415, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(145, 145, 145))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(t_hargaOnderdil, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 1013, Short.MAX_VALUE)
                            .addComponent(t_stok, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(t_namaOnderdil, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel10, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel9, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(t_kode, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.LEADING))
                        .addGap(0, 0, Short.MAX_VALUE))))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addComponent(jLabel3)
                .addGap(2, 2, 2)
                .addComponent(t_kode, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(10, 10, 10)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel11))
                .addGap(13, 13, 13)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_kodejenis, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(t_idSupplier, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_pilihSupplier, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_jenisbarang, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(5, 5, 5)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(jLabel13))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_typeJenis, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(t_toko, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel7)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(t_namaJenis, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(25, 25, 25)
                .addComponent(jLabel10)
                .addGap(2, 2, 2)
                .addComponent(t_namaOnderdil, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(10, 10, 10)
                .addComponent(jLabel8)
                .addGap(2, 2, 2)
                .addComponent(t_stok, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(10, 10, 10)
                .addComponent(jLabel9)
                .addGap(12, 12, 12)
                .addComponent(t_hargaOnderdil, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(40, Short.MAX_VALUE))
        );

        btn_tambah1.setText("TAMBAH");
        btn_tambah1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_tambah1ActionPerformed(evt);
            }
        });

        btn_clear.setBackground(new java.awt.Color(204, 0, 0));
        btn_clear.setText("CLEAR");
        btn_clear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_clearActionPerformed(evt);
            }
        });

        btn_batal1.setBackground(new java.awt.Color(0, 153, 0));
        btn_batal1.setText("BATAL");
        btn_batal1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_batal1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout tambahDataLayout = new javax.swing.GroupLayout(tambahData);
        tambahData.setLayout(tambahDataLayout);
        tambahDataLayout.setHorizontalGroup(
            tambahDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tambahDataLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(judul2)
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(tambahDataLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tambahDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jSeparator2, javax.swing.GroupLayout.DEFAULT_SIZE, 1220, Short.MAX_VALUE)
                    .addGroup(tambahDataLayout.createSequentialGroup()
                        .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(18, 18, 18)))
                .addContainerGap())
            .addGroup(tambahDataLayout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(btn_tambah1, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btn_clear, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btn_batal1, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        tambahDataLayout.setVerticalGroup(
            tambahDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, tambahDataLayout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addComponent(judul2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator2, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(tambahDataLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_tambah1, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_clear, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btn_batal1, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(50, 50, 50))
        );

        mainPanel.add(tambahData, "card2");

        add(mainPanel, "card2");
    }// </editor-fold>//GEN-END:initComponents

    private void t_kodeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_kodeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_kodeActionPerformed

    private void t_typeJenisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_typeJenisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_typeJenisActionPerformed

    private void t_namaOnderdilActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_namaOnderdilActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_namaOnderdilActionPerformed

    private void t_kodejenisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_kodejenisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_kodejenisActionPerformed

    private void t_stokActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_stokActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_stokActionPerformed

    private void t_hargaOnderdilActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_hargaOnderdilActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_hargaOnderdilActionPerformed

    private void btn_jenisbarangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_jenisbarangActionPerformed
        boolean closable = true;
        dialog_dataJenis djb = new dialog_dataJenis(null, closable);
        djb.setVisible(true);
        
        t_kodejenis.setText(djb.jo.getKode_jenis());
        t_typeJenis.setText(djb.jo.getType_jenis());
        t_namaJenis.setText(djb.jo.getNama_jenis());

        aktif();        
    }//GEN-LAST:event_btn_jenisbarangActionPerformed

    private void t_namaJenisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_namaJenisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_namaJenisActionPerformed

    private void tbl_dataMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbl_dataMouseClicked
        if (btn_tambah.getText().equals("TAMBAH")) {
            btn_tambah.setText("UBAH");
        }
        btn_hapus.setVisible(true);
        btn_batal.setVisible(true);
    }//GEN-LAST:event_tbl_dataMouseClicked

    private void btn_tambahActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_tambahActionPerformed
        String x = btn_tambah.getText();
        int row = tbl_data.getSelectedRow();
        if (x.equals("TAMBAH")) {
            
            mainPanel.removeAll();
            mainPanel.repaint();
            mainPanel.revalidate();

            mainPanel.add(tambahData);
            mainPanel.repaint();
            mainPanel.revalidate();
            
            judul2.setText("Tambah Data Onderdil");
            btn_tambah1.setText("SIMPAN");
            t_kode.setText(servis.nomor1());
            loadData();
        } else {
            int index = tbl_data.getSelectedRow();
            if (index != -1) {
                model_onderdil mod = tblModel.getData(tbl_data.convertRowIndexToModel(index));

                if (x.equals("UBAH")) {
                    dataTabel();
                }
            } else {
                JOptionPane.showMessageDialog(null, "Pilih dahulu data yang akan diubah");
            }
        }
    }//GEN-LAST:event_btn_tambahActionPerformed

    private void btn_hapusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_hapusActionPerformed
        hapusData();
    }//GEN-LAST:event_btn_hapusActionPerformed

    private void btn_batalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_batalActionPerformed
        tampilPanel();
        loadData();
    }//GEN-LAST:event_btn_batalActionPerformed

    private void btn_tambah1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_tambah1ActionPerformed
       if(btn_tambah1.getText().equals("TAMBAH"))
       {
           btn_tambah1.setText("SIMPAN");
           t_kodejenis.setText(servis.nomor1());
       }
       else if (btn_tambah1.getText().equals("SIMPAN"))
       {
           simpanData();
       }
       else if(btn_tambah1.getText().equals("PERBARUI"))
       {
           perbaruiData();
           
       }
       loadData();
    }//GEN-LAST:event_btn_tambah1ActionPerformed

    private void btn_clearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_clearActionPerformed
        String x = btn_clear.getText();
        if (x.equals("CLEAR")) {
            t_namaOnderdil.setText("");
            t_stok.setText("");
            t_hargaOnderdil.setText("");
        } else {
            tampilPanel();
            loadData();
            resetForm();

        }
        btn_clear.setText("CLEAR");
        btn_batal1.setVisible(true);
    }//GEN-LAST:event_btn_clearActionPerformed

    private void btn_batal1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_batal1ActionPerformed
        tampilPanel();
        loadData();
        resetForm();
    }//GEN-LAST:event_btn_batal1ActionPerformed

    private void t_pencarianKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_pencarianKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_t_pencarianKeyTyped

    private void t_pencarianKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_pencarianKeyPressed
        pencarian();
    }//GEN-LAST:event_t_pencarianKeyPressed

    private void t_pencarianFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_t_pencarianFocusGained
       String username = t_pencarian.getText();
        if (username.equals("Search")) {
            t_pencarian.setText("");
        }
    }//GEN-LAST:event_t_pencarianFocusGained

    private void t_pencarianFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_t_pencarianFocusLost
         String user = t_pencarian.getText();
        if (user.equalsIgnoreCase("Search") || user.equalsIgnoreCase("")) {
            t_pencarian.setText("Search");
        }
    }//GEN-LAST:event_t_pencarianFocusLost

    private void t_stokKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_stokKeyTyped
        char c = evt.getKeyChar();
        if (!((Character.isDigit(c) || (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE)))) {
            getToolkit().beep();
            JOptionPane.showMessageDialog(null, "Masukan hanya bilangan angka !");

            evt.consume();
        }
    }//GEN-LAST:event_t_stokKeyTyped

    private void t_hargaOnderdilKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_hargaOnderdilKeyTyped
        char c = evt.getKeyChar();
        if (!((Character.isDigit(c) || (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE)))) {
            getToolkit().beep();
            JOptionPane.showMessageDialog(null, "Masukan hanya bilangan angka !");

            evt.consume();
        }
    }//GEN-LAST:event_t_hargaOnderdilKeyTyped

    private void t_idSupplierActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_idSupplierActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_idSupplierActionPerformed

    private void t_idSupplierKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_idSupplierKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_t_idSupplierKeyTyped

    private void btn_pilihSupplierActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_pilihSupplierActionPerformed
        boolean closable = true;
        dialog_dataSupplier spr = new dialog_dataSupplier(null, closable);
        spr.setVisible(true);
        
        t_idSupplier.setText(spr.jo.getId_supplier());
        t_toko.setText(spr.jo.getToko_supplier());
        
        t_namaOnderdil.requestFocus();
        aktif();
    }//GEN-LAST:event_btn_pilihSupplierActionPerformed

    private void t_tokoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_tokoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_tokoActionPerformed

    private void t_tokoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_tokoKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_t_tokoKeyTyped

    private void btn_eksportActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_eksportActionPerformed
       JnaFileChooser fileChooser = new JnaFileChooser();
        Window window = null;
        boolean action = fileChooser.showSaveDialog(window);

        if (action) {
            String filePath = fileChooser.getSelectedFile().getAbsolutePath() + ".xlsx";
            table_onderdil model = (table_onderdil) tbl_data.getModel();
            List<model_onderdil> exportedData = servis.getData();
            servis.exportToExcel(exportedData, filePath);
        }
        loadData();
    }//GEN-LAST:event_btn_eksportActionPerformed

    private void btn_importActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_importActionPerformed
        JnaFileChooser fileChooser = new JnaFileChooser();
        Window window = null;
        boolean action = fileChooser.showOpenDialog(window);

        if (action) {
            String filePath = fileChooser.getSelectedFile().getAbsolutePath();
            List<model_onderdil> importedData = new ArrayList<>();
            servis.importFromExcel(importedData, filePath);
            tblModel.setData(importedData);
        }
        loadData();
    }//GEN-LAST:event_btn_importActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private rojerusan.RSMaterialButtonRectangle btn_batal;
    private rojerusan.RSMaterialButtonRectangle btn_batal1;
    private rojerusan.RSMaterialButtonRectangle btn_clear;
    private rojerusan.RSMaterialButtonRectangle btn_eksport;
    private rojerusan.RSMaterialButtonRectangle btn_hapus;
    private rojerusan.RSMaterialButtonRectangle btn_import;
    private javax.swing.JButton btn_jenisbarang;
    private javax.swing.JButton btn_pilihSupplier;
    private rojerusan.RSMaterialButtonRectangle btn_tambah;
    private rojerusan.RSMaterialButtonRectangle btn_tambah1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JLabel judul1;
    private javax.swing.JLabel judul2;
    private javax.swing.JPanel mainPanel;
    private scrollbarwin11.ScrollPaneWin11 scrollPaneWin111;
    private javax.swing.JTextField t_hargaOnderdil;
    private javax.swing.JTextField t_idSupplier;
    private javax.swing.JTextField t_kode;
    private javax.swing.JTextField t_kodejenis;
    private javax.swing.JTextField t_namaJenis;
    private javax.swing.JTextField t_namaOnderdil;
    private javax.swing.JTextField t_pencarian;
    private javax.swing.JTextField t_stok;
    private javax.swing.JTextField t_toko;
    private javax.swing.JTextField t_typeJenis;
    private javax.swing.JPanel tambahData;
    private javax.swing.JPanel tampilData;
    private tablecustom.tablez tbl_data;
    // End of variables declaration//GEN-END:variables

    private void loadData() {
     btn_hapus.setVisible(false);
     btn_batal.setVisible(false);
     List<model_onderdil> list = servis.getData();
     tblModel.setData(list);
    }

    private void dataTabel() {
        tampilData.setVisible(false);
        tambahData.setVisible(true);
        
        int row = tbl_data.getSelectedRow();
        judul2.setText("Perbarui Data Onderdil");
        
        t_kode.setText(tbl_data.getModel().getValueAt(row, 1).toString());
        t_kodejenis.setText(tbl_data.getModel().getValueAt(row, 2).toString());
        t_typeJenis.setText(tbl_data.getModel().getValueAt(row, 3).toString());
        t_namaJenis.setText(tbl_data.getModel().getValueAt(row, 4).toString());
        t_namaOnderdil.setText(tbl_data.getModel().getValueAt(row, 5).toString());
        t_stok.setText(tbl_data.getModel().getValueAt(row, 6).toString());
        t_hargaOnderdil.setText(tbl_data.getModel().getValueAt(row, 7).toString());
        t_idSupplier.setText(tbl_data.getModel().getValueAt(row, 8).toString());
        t_toko.setText(tbl_data.getModel().getValueAt(row, 9).toString());
        
        aktif();
        btn_tambah1.setText("PERBARUI");
        btn_clear.setText("BATAL");
        btn_batal1.setVisible(false);
        btn_batal.setVisible(true);
        
    }

    private void aktif() {
        t_namaOnderdil.setEnabled(true);
        t_stok.setEnabled(true);
        t_hargaOnderdil.setEnabled(true);
    }
    private void tampilPanel() {
        mainPanel.removeAll();
        mainPanel.add(new onderdil());
        mainPanel.repaint();
        mainPanel.revalidate();
    }

    private void resetForm() {
        btn_tambah.requestFocus();
        btn_tambah.setText("TAMBAH");
        t_kode.setText("");
        t_kodejenis.setText("");
        t_typeJenis.setText("");
        t_namaJenis.setText("");
        t_namaOnderdil.setText("");
        t_stok.setText("");
        t_hargaOnderdil.setText("");
        
    }

    private void simpanData() {
        
        if(validasiInput()==true){
            String kode = t_kode.getText();
            String kode_jenis = t_kodejenis.getText();
            String type_jenis = t_typeJenis.getText();
            String nama_jenis = t_namaJenis.getText();
            String nama_onderdil = t_namaOnderdil.getText();
            int stok = Integer.parseInt(t_stok.getText());
            Long harga = Long.parseLong(t_hargaOnderdil.getText());
            String id_sp = t_idSupplier.getText();
            String toko = t_toko.getText();
            
            model_onderdil ond = new model_onderdil();
            model_jenisOnderdil jod = new model_jenisOnderdil();
            model_supplier spr = new model_supplier();
            
            ond.setKode_onderdil(kode);
            jod.setKode_jenis(kode_jenis);
            jod.setType_jenis(type_jenis);
            jod.setNama_jenis(nama_jenis);
            ond.setNama_onderdil(nama_onderdil);
            ond.setStok(stok);
            ond.setHarga_onderdil(harga);
            spr.setId_supplier(id_sp);
            spr.setToko_supplier(toko);
            
            ond.setJns_onderdil(jod);
            ond.setSupplier(spr);
            
            servis.tambahData(ond);
            tblModel.tambahData(ond);
            loadData();
            resetForm();
            tampilPanel();
            btn_tambah1.setText("TAMBAH");
            
          
        }
    }

    private void perbaruiData() {
        int index = tbl_data.getSelectedRow();
        if(index!=-1){
            model_onderdil mobar = tblModel.getData(tbl_data.convertRowIndexToModel(index));
            
            if(validasiInput()==true){
                String kode = t_kode.getText();
                String kode_jenis = t_kodejenis.getText();
//                String type_jenis = t_typeJenis.getText();
//                String nama_jenis = t_namaJenis.getText();
                String nama_onderdil = t_namaOnderdil.getText();
                int stok = Integer.parseInt(t_stok.getText());
                Long harga = Long.parseLong(t_hargaOnderdil.getText());
                String id_sp = t_idSupplier.getText();
//                String toko = t_toko.getText();

                model_onderdil ond = new model_onderdil();
                model_jenisOnderdil jod = new model_jenisOnderdil();
                model_supplier spr = new model_supplier();

                ond.setKode_onderdil(kode);
                jod.setKode_jenis(kode_jenis);
//                jod.setType_jenis(type_jenis);
//                jod.setNama_jenis(nama_jenis);
                ond.setNama_onderdil(nama_onderdil);
                ond.setStok(stok);
                ond.setHarga_onderdil(harga);
                spr.setId_supplier(id_sp);
//                spr.setToko_supplier(toko);

                ond.setJns_onderdil(jod);
                ond.setSupplier(spr);

                servis.perbaruiData(ond);
                tblModel.perbaruiData(index, ond);
                loadData();
                resetForm();
                tampilPanel();
            
            
            }
        }
    }

    private boolean validasiInput() {
     boolean valid = false;
     if(t_kode.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Kode Onderdil tidak boleh kosong");
    }else if (t_kodejenis.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Kode Jenis tidak boleh kosong");
    }else if (t_typeJenis.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Type Jenis Onderdil tidak boleh kosong");
    }else if (t_namaJenis.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Nama Jenis tidak boleh kosong");
    }else if (t_namaOnderdil.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Nama Onderdil tidak boleh kosong");
    }else if (t_stok.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Stok Onderdil tidak boleh kosong");
    }else if (t_hargaOnderdil.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Harga Onderdil tidak boleh kosong");
    }else if (t_idSupplier.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "ID Supplier Onderdil tidak boleh kosong");
    }else if (t_toko.getText().trim().isEmpty()){
         JOptionPane.showMessageDialog(null, "Toko tidak boleh kosong");    
    }else{
        valid = true;
    }
     return valid;
    }
         
    private void setColWidht() {
        int[] noCol = {0, 1, 2, 3};
        int[] noColW = {50, 110, 150, 150};

        TableColumnModel tblModel = tbl_data.getColumnModel();
        for (int i = 0; i < noCol.length; i++) {
            tblModel.getColumn(noCol[i]).setPreferredWidth(noColW[i]);
            tblModel.getColumn(noCol[i]).setMaxWidth(noColW[i]);
            tblModel.getColumn(noCol[i]).setMinWidth(noColW[i]);
        }

    }
    
    private void hapusData() {
        int index = tbl_data.getSelectedRow();
        if(index!=-1){
            model_onderdil brg = tblModel.getData(tbl_data.convertRowIndexToModel(index));
            if(JOptionPane.showConfirmDialog(null, "Yakin data akan dihapus?", "Konfirmasi", JOptionPane.OK_CANCEL_OPTION)==JOptionPane.OK_OPTION){
                servis.hapusData(brg);
                tblModel.hapusData(index);
                loadData();
                resetForm();  
            }
        }else{
            JOptionPane.showMessageDialog(null, "Pilih dahulu record yang akan dihapus");
        }
    }

    private void pencarian() {
       List<model_onderdil> list = servis.pencarian(t_pencarian.getText().toLowerCase());
        tblModel.setData(list);
    }

}
